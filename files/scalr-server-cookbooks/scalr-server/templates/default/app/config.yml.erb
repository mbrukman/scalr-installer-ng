
#####################################################################################################
# Warning                                                                                           #
# This file is auto-generated by the `/opt/scalr-server/bin/scalr-server-ctl reconfigure` command.  #
# Do not edit it manually. Your changes would be lost after an upgrade.                             #
#####################################################################################################

scalr:
  connections:
    mysql: &connections_mysql
      host: <%= node[:scalr_server][:routing][:mysql_host] %>
      port: <%= node[:scalr_server][:routing][:mysql_port] %>
      user: <%= node[:scalr_server][:mysql][:scalr_user] %>
      pass: <%= node[:scalr_server][:mysql][:scalr_password] %>
      name: <%= node[:scalr_server][:mysql][:scalr_dbname] %>

  analytics:
    enabled: yes
    connections:
      analytics:
        <<: *connections_mysql
        name: <%= node[:scalr_server][:mysql][:analytics_dbname] %>
      scalr:
        <<: *connections_mysql
    poller:
      cryptokey: <%= scalr_bundle_path node %>/app/etc/.cryptokey

  email:
    address: <%= node[:scalr_server][:app][:email_from_address] %>
    name: <%= node[:scalr_server][:app][:email_from_name] %>

  auth_mode: scalr

  instances_connection_policy: <%= node[:scalr_server][:app][:instances_connection_policy] %>

  allowed_clouds:
  - ec2
  - gce
  - eucalyptus
  - cloudstack
  - idcf
  - openstack
  - ocs
  - ecs
  - rackspacenguk
  - rackspacengus
  - nebula

  endpoint:
    scheme: <%= node[:scalr_server][:routing][:endpoint_scheme] %>
    host: <%= node[:scalr_server][:routing][:endpoint_host] %>

  aws:
    ip_pool: ['<%= node[:scalr_server][:app][:ip_range] %>']
    security_group_name: scalr.<%= node[:scalr_server][:app][:id] %>.ip-pool

  billing:
    enabled: no

  dns:
    mysql:
      host: 'localhost'
      port: ~
      name: 'scalr'
      user: 'scalr'
      pass: 'scalr'
    static:
      enabled: no
      nameservers: ['ns1.example-dns.net', 'ns2.example-dns.net']
      domain_name: 'example-dns.net'
    global:
      enabled: no
      nameservers: ['ns1.example.net', 'ns2.example.net', 'ns3.example.net', 'ns4.example.net']
      default_domain_name: 'provide.domain.here.in'

  load_statistics:
    connections:
      plotter:
        scheme: <%= node[:scalr_server][:routing][:plotter_scheme] %>
        bind_scheme: <%= node[:scalr_server][:service][:plotter_bind_scheme] %>
        host: <%= node[:scalr_server][:routing][:plotter_host] %>
        bind_host: <%= node[:scalr_server][:service][:plotter_bind_host] %>
        bind_address: <%= node[:scalr_server][:service][:plotter_bind_host] %>  # Deprecated!
        port: <%= node[:scalr_server][:routing][:plotter_port] %>
        bind_port: <%= node[:scalr_server][:service][:plotter_bind_port] %>
    rrd:
      dir: '<%= data_dir_for node, 'rrd' %>'
      run_dir: '<%= run_dir_for node, 'rrd' %>'
      rrdcached_sock_path: '<%= run_dir_for node, 'rrd' %>/rrdcached.sock'
    img:
      scheme: <%= node[:scalr_server][:routing][:graphics_scheme] %>
      host: <%= node[:scalr_server][:routing][:graphics_host] %>
      path: <%= node[:scalr_server][:routing][:graphics_path] %>
      dir:  '<%= data_dir_for node, 'service' %>/graphics'

  ui:
    mindterm_enabled: true

  scalarizr_update:
    mode: 'client'
    default_repo: 'stable'
    repos:
      latest:
        deb_repo_url: 'http://apt.scalr.net/debian scalr/'
        rpm_repo_url: 'http://rpm.scalr.net/rpm/rhel/$releasever/$basearch'
        win_repo_url: 'http://win.scalr.net'
      stable:
        deb_repo_url: 'http://apt-delayed.scalr.net/debian scalr/'
        rpm_repo_url: 'http://rpm-delayed.scalr.net/rpm/rhel/$releasever/$basearch'
        win_repo_url: 'http://win-delayed.scalr.net'
